"use strict";(self.webpackChunkclinext=self.webpackChunkclinext||[]).push([[1920],{46816:(e,n,a)=>{a.d(n,{c:()=>p});var r=a(45072),t=a(11504);const s=e=>{const{data:n}=e,{header:a,rows:r}=n;return t.createElement("table",null,t.createElement("thead",null,a.columns.map((e=>t.createElement("td",{key:e.id,className:"font-bold text-center"}," ",e.label," ")))),t.createElement("tbody",null,r.map((e=>t.createElement("tr",{key:e.id},e.columns.map((e=>t.createElement("td",{key:e.id,className:""},e.value))))))))},l=function(e){void 0===e&&(e={});const{name:n,url:a}=e;return t.createElement("div",{className:"           bg-slate-100 border border-customc-main                      rounded-lg           px-0 py-0        text-center      anakcss-affordance-base                               "},t.createElement("span",{className:"                                             "},`${n}`))},i=function(e){void 0===e&&(e={});const{name:n,url:a,tooltip:r}=e;return t.createElement("div",{className:" has-tooltip                                 "},r&&t.createElement("span",{className:"\n                tooltip\n                bg-slate-600\n                text-slate-100\n                rounded-full\n                shadow-lg \n                px-4 \n                p-2  \n                -mt-12\n                anakcss-affordance-base       \n            "},r),t.createElement("a",{href:`${a}`,className:" anakcss-affordance-base           hover:text-customc-main           no-underline  decoration-customc-main                                                  "},t.createElement("span",{className:"                                                         hover:text-customc-main                                 "},`${n}`)))},o=e=>{let{data:n,types:a}=e;const{header:r,rows:s}=n;let o=s.map((e=>{const{columns:n}=e,r=n.map(((e,n)=>{if(!e)return{id:n,value:t.createElement("span",null)};if("string"===typeof e)return{id:n,value:e};{const{type:r}=e;switch(r){case"boolean":return{id:n,value:t.createElement(l,{name:e.value?"True":"False"})};case"values":return{id:n,value:e.value.map((e=>t.createElement(l,{name:e})))};case"element":{const a=e.value;return{id:n,value:t.createElement(a,null)}}case"type":{const{value:r}=e;let s=a.items.filter((e=>e.id===r));if(!s||!s.length)break;s=s[0];const l=`${s.path}`,{mode:o}=e;let d=s.name;if("array"===o)d=`[${s.name}]`;return{id:n,value:t.createElement(i,{name:d,url:l,tooltip:s.description})}}}}return e}));return{...e,columns:r}}));return o=o.filter((e=>e)),{header:r,rows:o}},d=e=>e.filter(((n,a)=>e.indexOf(n)===a)),m=e=>{let{data:n,types:a,isPlain:r}=e;if(r)return o({data:n,types:a});const t=(e=>{let{data:n}=e;const{header:a,rows:r}=n;let t=[];return r.forEach((e=>{const n=Object.keys(e);t=t.concat(n)})),t=d(t),{header:a,rows:r.map(((e,a)=>({columns:n.header.columns.map((n=>{const{id:a}=n;return e[a]}))})))}})({data:n});return o({data:t,types:a})},p=e=>{const n=m({data:e.data,types:e.types,isPlain:e.isPlain});return t.createElement(s,(0,r.c)({},e,{data:n}))}},78088:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>m,contentTitle:()=>o,default:()=>y,frontMatter:()=>i,metadata:()=>d,toc:()=>p});var r=a(45072),t=(a(11504),a(95788)),s=(a(46816),a(51944)),l=a.n(s);const i={sidebar_position:6},o="Transformer",d={unversionedId:"reference/transformer",id:"reference/transformer",title:"Transformer",description:"- A transformer's mode can either be display, in or out",source:"@site/docs/reference/transformer.mdx",sourceDirName:"reference",slug:"/reference/transformer",permalink:"/documentation/docs/next/reference/transformer",draft:!1,editUrl:"https://github.com/clinext-core/generator-clinext/tree/main/packages/create-docusaurus/templates/shared/docs/reference/transformer.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Validator",permalink:"/documentation/docs/next/reference/validator"},next:{title:"Packages",permalink:"/documentation/docs/next/reference/packages"}},m={},p=[{value:"Modes",id:"modes",level:3},{value:"In",id:"in",level:4},{value:"Out",id:"out",level:4},{value:"Display",id:"display",level:4},{value:"Usage",id:"usage",level:2},{value:"Previously declared transformer",id:"previously-declared-transformer",level:3},{value:"Inline",id:"inline",level:3},{value:"Template",id:"template",level:3},{value:"Example",id:"example",level:2}],u={toc:p},c="wrapper";function y(e){let{components:n,...a}=e;return(0,t.yg)(c,(0,r.c)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"transformer"},"Transformer"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"A transformer's mode can either be display, in or out"),(0,t.yg)("li",{parentName:"ul"},"The ",(0,t.yg)("i",null,"transformers")," entry holds the information for these three types of transformation"),(0,t.yg)("li",{parentName:"ul"},"A display, in or out is an array of transformers"),(0,t.yg)("li",{parentName:"ul"},"The transformers will be called sequentially as per their order in the array"),(0,t.yg)("li",{parentName:"ul"},"Create a project wide transformer in the form of a _cliNext file in ",(0,t.yg)("b",null,"src/transformers/{in|out|display}"),".")),(0,t.yg)(l(),{schema:{title:"Transformer schema",type:"object",description:"Allows for schema to be seen",properties:{_clinextType:{type:"string"},id:{type:"string",description:"Unique ID"},modes:{type:"array",enum:["in","out","display"],description:"Transformer modes"},description:{type:"string"},template:{type:"string"},handler:{type:"object",description:"Transformer modes"}},required:["modes"]},mdxType:"JSONSchemaViewer"}),(0,t.yg)("h3",{id:"modes"},"Modes"),(0,t.yg)("h4",{id:"in"},"In"),(0,t.yg)("p",null,"An In transformer is applied to a value before it is presented to the inquirer."),(0,t.yg)("h4",{id:"out"},"Out"),(0,t.yg)("p",null,"An Out transformer is applied to a value after it is presented to the inquirer and filled by the user."),(0,t.yg)("h4",{id:"display"},"Display"),(0,t.yg)("p",null,"A Display transformer is applied to a value only for display formatting."),(0,t.yg)("h2",{id:"usage"},"Usage"),(0,t.yg)("p",null,"You can use a transformer in any question."),(0,t.yg)("h3",{id:"previously-declared-transformer"},"Previously declared transformer"),(0,t.yg)("p",null,"To use a previously declared transformer, pass its id and params if needed:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-js"},"{\n    ...\n    transformers: [\n    {\n        id: 'myDisplayTransformerId',\n        params: {\n            myParam1: true\n        }\n    }\n]\n}\n")),(0,t.yg)("h3",{id:"inline"},"Inline"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-js"},"{\n    ...\n    transformers: [\n        {\n            modes: [...],\n            handler: ({ input }) => {\n               ...\n            }\n        }\n    ]\n}\n")),(0,t.yg)("p",null,(0,t.yg)("em",{parentName:"p"},"Example")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-js"},"{\n    ...\n    transformers: [\n        {\n            modes: ['in', 'display'],\n            handler: ({ input }) => {\n                if(!input) {\n                    return \"\"\n                }\n                return `{${input}}`\n            }\n        }\n    ]\n}\n")),(0,t.yg)("h3",{id:"template"},"Template"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-js"},"{\n    ...\n    transformers: [\n        {\n            modes: [...],\n            template: '...<%= payloadVariable %>...'\n        }\n    ]\n}\n")),(0,t.yg)("p",null,(0,t.yg)("em",{parentName:"p"},"Example")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-js"},"{\n    ...\n    transformers: [\n        {\n            modes: ['in', 'display'],\n            template: `<%= destination %>/<%= featureId %>`\n        }\n    ]\n}\n")),(0,t.yg)("p",null,"The template is a regular ",(0,t.yg)("a",{parentName:"p",href:"https://ejs.co"},"ejs")," template.\nIt will compile by using CliNext.payload as its data source."),(0,t.yg)("p",null,(0,t.yg)("a",{parentName:"p",href:"https://ejs.co/#docs"},"ejs documentation")),(0,t.yg)("h2",{id:"example"},"Example"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-js"},"transformers: [\n    {\n        modes: ['in', 'display'],\n        id: \"capitalizeFirstLetter\",\n    },\n    {\n        modes: ['in', 'display'],\n        handler: ({ input }) => {\n            if(!input) {\n                return \"\"\n            }\n            return `{${input}}`\n        }\n    },\n    {\n        modes: ['out'],\n        template: `<%= destination %>/<%= featureId %>`\n    }\n]\n\n")))}y.isMDXComponent=!0}}]);